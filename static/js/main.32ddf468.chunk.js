(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,n){e.exports=n(45)},42:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),o=n(20),l=n(11),s=n(8),u=n(30),h=n(31),d=n(14),p="SUBMIT";var m={email:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{email:t.payload.email});default:return e}},f=n(21),E={currencies:[],expenses:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE":return Object(d.a)(Object(d.a)({},e),{},{currencies:t.payload.currencies});case"ADD":return Object(d.a)(Object(d.a)({},e),{},{expenses:[].concat(Object(f.a)(e.expenses),[t.payload.expense])});default:return e}},y=Object(s.combineReducers)({user:b,wallet:v}),g=Object(s.createStore)(y,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(h.a))),j=(n(42),n(2)),O=n(16),C=n(9),k=n(10),x=n(7),w=n(13),S=n(12),D=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(C.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(x.a)(a)),a.inputsCheck=a.inputsCheck.bind(Object(x.a)(a)),a.state={email:"",password:"",isButtonDisabled:!0},a}return Object(k.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(O.a)({},a,n),this.inputsCheck)}},{key:"inputsCheck",value:function(){var e=/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,t=this.state,n=t.email,a=t.password;n.match(e)&&a.length>=6?this.setState({isButtonDisabled:!1}):this.setState({isButtonDisabled:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.isButtonDisabled,a=this.props.sendEmail;return r.a.createElement("main",null,r.a.createElement("h1",null,"Trybe Wallet"),r.a.createElement("label",{htmlFor:"email-input-id"},"E-mail",r.a.createElement("input",{type:"email",name:"email",placeholder:"Coloque seu email aqui!","data-testid":"email-input",id:"email-input-id",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"password-input-id"},"Senha",r.a.createElement("input",{type:"password",minLength:"6",placeholder:"Insira sua senha aqui!","data-testid":"password-input",id:"password-input-id",name:"password",onChange:this.handleChange})),r.a.createElement(o.b,{to:"/carteira"},r.a.createElement("button",{type:"button",disabled:n,onClick:function(){return a(t)}},"Entrar")))}}]),n}(r.a.Component),A=Object(l.b)(null,(function(e){return{sendEmail:function(t){return e({type:p,payload:{email:t}})}}}))(D),F=n(26),T=n.n(F),B=n(32),z=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){var e=this.props.handleChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{id:"method",name:"method",onChange:function(t){return e(t)}},r.a.createElement("option",{key:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{key:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{key:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{id:"tag",name:"tag",onChange:function(t){return e(t)}},r.a.createElement("option",{key:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{key:"Lazer"},"Lazer"),r.a.createElement("option",{key:"Trabalho"},"Trabalho"),r.a.createElement("option",{key:"Transporte"},"Transporte"),r.a.createElement("option",{key:"Sa\xfade"},"Sa\xfade"))))}}]),n}(r.a.Component),J=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(C.a)(this,n),(e=t.call(this)).state={value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.handleChange=e.handleChange.bind(Object(x.a)(e)),e.sendExpenses=e.sendExpenses.bind(Object(x.a)(e)),e.theCurrencies=e.theCurrencies.bind(Object(x.a)(e)),e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchCoinState)()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(O.a)({},n,a))}},{key:"UDSTDeleted",value:function(e){var t=Object(f.a)(e);return t.splice(1,1),t}},{key:"theCurrencies",value:function(){var e=this.props.currencies,t=Object.values(JSON.parse(e));return this.UDSTDeleted(t).map((function(e){var t=e.code;return r.a.createElement("option",{key:t,value:t},t)}))}},{key:"sendExpenses",value:function(){var e=Object(B.a)(T.a.mark((function e(){var t,n,a,r,i,c,o,l,s,u,h,d,p;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.expenses,a=t.fetchCoinState,r=t.addingExpenseState,i=function(){return n.length},e.next=4,a();case 4:c=this.state,o=c.value,l=c.description,s=c.currency,u=c.method,h=c.tag,d=this.props.currencies,p={id:i(),value:o,description:l,currency:s,method:u,tag:h,exchangeRates:JSON.parse(d)},r(p);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{type:"number",id:"value",name:"value",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{type:"text",id:"description",name:"description",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{id:"currency",name:"currency",onChange:function(t){return e.handleChange(t)}},this.theCurrencies())),r.a.createElement(z,{handleChange:this.handleChange}),r.a.createElement("button",{type:"button",onClick:function(){return e.sendExpenses()}},"Adicionar despesas"))}}]),n}(r.a.Component),M=Object(l.b)((function(e){return{expenses:e.wallet.expenses,currencies:JSON.stringify(e.wallet.currencies)}}),(function(e){return{fetchCoinState:function(){return e((function(e){fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){e({type:"SAVE",payload:{currencies:t}})}))}))},addingExpenseState:function(t){return e(function(e){return{type:"ADD",payload:{expense:e}}}(t))}}}))(J),L=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(C.a)(this,n),(e=t.call(this)).totalExpenses=e.totalExpenses.bind(Object(x.a)(e)),e}return Object(k.a)(n,[{key:"totalExpenses",value:function(){var e=this.props.expenses;return e.length>=1?e.reduce((function(e,t){var n=t.value,a=t.currency,r=t.exchangeRates,i=Object.values(r).find((function(e){var t=e.code;return a===t}));return e+parseFloat(i.ask)*parseFloat(n)}),0):0}},{key:"render",value:function(){var e=this.props.userEmail;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",{"data-testid":"email-field"},"Email:",e),r.a.createElement("h2",{"data-testid":"total-field"},"Total:",this.totalExpenses()),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL")),r.a.createElement(M,null))}}]),n}(r.a.Component),R=Object(l.b)((function(e){return{userEmail:e.user.email,expenses:e.wallet.expenses}}),null)(L);var U=function(){return r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/carteira",component:R}),r.a.createElement(j.a,{exact:!0,path:"/",component:A}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(o.a,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.32ddf468.chunk.js.map